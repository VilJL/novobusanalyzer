set(headers
  CAN_PEAK_USB_Extern.h)

add_custom_command(
  OUTPUT ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/CAN_PEAK_USB.dll
  COMMAND ${CMAKE_COMMAND} ARGS -E make_directory ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/
  COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/CAN_PEAK_USB.dll ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/
  COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/EXTERNAL/CanApi2.dll ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/
)

add_custom_target(CAN_PEAK_USB ALL
  DEPENDS ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/CAN_PEAK_USB.dll)
